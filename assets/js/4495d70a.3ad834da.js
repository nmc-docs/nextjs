"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[363],{5218:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var r=n(4848),a=n(8453);const i={sidebar_position:7},s="revalidateTag()",o={id:"functions/revalidateTag",title:"revalidateTag()",description:"Gi\u1edbi thi\u1ec7u",source:"@site/docs/functions/revalidateTag.md",sourceDirName:"functions",slug:"/functions/revalidateTag",permalink:"/nextjs/functions/revalidateTag",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"fetch()",permalink:"/nextjs/functions/fetch"}},c={},d=[{value:"Gi\u1edbi thi\u1ec7u",id:"gi\u1edbi-thi\u1ec7u",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2},{value:"Server Actions:",id:"server-actions",level:3},{value:"Route Handlers:",id:"route-handlers",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"revalidatetag",children:"revalidateTag()"})}),"\n",(0,r.jsx)(t.h2,{id:"gi\u1edbi-thi\u1ec7u",children:"Gi\u1edbi thi\u1ec7u"}),"\n",(0,r.jsxs)(t.admonition,{type:"info",children:[(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["H\xe0m ",(0,r.jsx)(t.strong,{children:"revalidateTag()"})," gi\xfap l\xe0m m\u1edbi d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c l\u01b0u trong cache ngay l\u1eadp t\u1ee9c theo tag c\u1ee7a cache."]}),"\n",(0,r.jsxs)(t.li,{children:["H\xe0m ",(0,r.jsx)(t.strong,{children:"revalidateTag()"})," th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u1edf b\xean trong ",(0,r.jsx)(t.a,{href:"../routing/route-handlers",children:"Route Handlers"})," ho\u1eb7c ",(0,r.jsx)(t.a,{href:"../data-fetching/server-actions",children:"Server Actions"}),"."]}),"\n"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"revalidateTag(tag: string): void;\n"})})]}),"\n",(0,r.jsx)(t.h2,{id:"v\xed-d\u1ee5",children:"V\xed d\u1ee5"}),"\n",(0,r.jsx)(t.h3,{id:"server-actions",children:"Server Actions:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",metastring:'title"app/actions.ts"',children:'"use server";\n\nimport { revalidateTag } from "next/cache";\n\nexport default async function submit() {\n  await addPost();\n  revalidateTag("posts");\n}\n'})}),"\n",(0,r.jsx)(t.h3,{id:"route-handlers",children:"Route Handlers:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",metastring:'title="app/api/revalidate/route.ts"',children:'import type { NextRequest } from "next/server";\nimport { revalidateTag } from "next/cache";\n\nexport async function GET(request: NextRequest) {\n  const tag = request.nextUrl.searchParams.get("tag");\n  revalidateTag(tag);\n  return Response.json({ revalidated: true, now: Date.now() });\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>o});var r=n(6540);const a={},i=r.createContext(a);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);