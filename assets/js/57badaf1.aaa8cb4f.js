"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[294],{2488:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>h,contentTitle:()=>s,default:()=>d,frontMatter:()=>c,metadata:()=>o,toc:()=>a});var i=t(4848),r=t(8453);const c={sidebar_position:2},s="Server Actions",o={id:"data-fetching/server-actions",title:"Server Actions",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 Server Actions",source:"@site/docs/data-fetching/server-actions.md",sourceDirName:"data-fetching",slug:"/data-fetching/server-actions",permalink:"/nextjs/data-fetching/server-actions",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Fetching",permalink:"/nextjs/data-fetching/fetching"},next:{title:"Functions",permalink:"/nextjs/category/functions"}},h={},a=[{value:"Gi\u1edbi thi\u1ec7u v\u1ec1 Server Actions",id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-server-actions",level:2},{value:"T\u1ea1o server actions",id:"t\u1ea1o-server-actions",level:2}];function l(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"server-actions",children:"Server Actions"})}),"\n",(0,i.jsx)(e.h2,{id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-server-actions",children:"Gi\u1edbi thi\u1ec7u v\u1ec1 Server Actions"}),"\n",(0,i.jsx)(e.admonition,{type:"info",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:'Trong Next.js, "Server Actions" (c\xe1c h\xe0nh \u0111\u1ed9ng tr\xean m\xe1y ch\u1ee7) l\xe0 m\u1ed9t t\xednh n\u0103ng gi\xfap ta c\xf3 th\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c t\xe1c v\u1ee5 tr\u1ef1c ti\u1ebfp tr\xean m\xe1y ch\u1ee7 t\u1eeb c\xe1c th\xe0nh ph\u1ea7n giao di\u1ec7n (React components). \u0110i\u1ec1u n\xe0y gi\xfap ta tr\xe1nh vi\u1ec7c ph\u1ea3i t\u1ea1o API endpoints ri\xeang bi\u1ec7t v\xe0 sau \u0111\xf3 g\u1ecdi ch\xfang t\u1eeb client, thay v\xe0o \u0111\xf3, ta c\xf3 th\u1ec3 g\u1ecdi tr\u1ef1c ti\u1ebfp c\xe1c h\xe0m x\u1eed l\xfd ph\xeda server t\u1eeb ph\xeda client.'}),"\n",(0,i.jsxs)(e.li,{children:["C\xe1c \u0111i\u1ec3m ch\xednh c\u1ee7a Server Actions trong Next.js:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Th\u1ef1c thi tr\xean m\xe1y ch\u1ee7"})," : C\xe1c h\xe0nh \u0111\u1ed9ng n\xe0y \u0111\u01b0\u1ee3c th\u1ef1c thi tr\xean m\xe1y ch\u1ee7, \u0111i\u1ec1u n\xe0y gi\xfap b\u1ea3o m\u1eadt v\xe0 gi\u1ea3m b\u1edbt c\xf4ng vi\u1ec7c tr\xean client. C\xe1c h\xe0nh \u0111\u1ed9ng c\xf3 th\u1ec3 bao g\u1ed3m vi\u1ec7c g\u1ecdi API t\u1eeb m\xe1y ch\u1ee7, t\u01b0\u01a1ng t\xe1c v\u1edbi c\u01a1 s\u1edf d\u1eef li\u1ec7u, ho\u1eb7c th\u1ef1c hi\u1ec7n c\xe1c t\xednh to\xe1n n\u1eb7ng m\xe0 kh\xf4ng c\u1ea7n ph\u1ea3i t\u1ea3i v\u1ec1 client."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Truy\u1ec1n tham s\u1ed1 t\u1eeb client"})," : Ta c\xf3 th\u1ec3 truy\u1ec1n d\u1eef li\u1ec7u t\u1eeb client \u0111\u1ebfn server th\xf4ng qua Server Actions. D\u1eef li\u1ec7u n\xe0y sau \u0111\xf3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c x\u1eed l\xfd tr\xean server m\xe0 kh\xf4ng c\u1ea7n ph\u1ea3i th\u1ef1c hi\u1ec7n v\xf2ng l\u1eb7p qua l\u1ea1i gi\u1eefa client-server nhi\u1ec1u l\u1ea7n."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Kh\xf4ng c\u1ea7n API Routes"})," : M\u1ed9t trong nh\u1eefng l\u1ee3i \xedch ch\xednh c\u1ee7a Server Actions l\xe0 ta kh\xf4ng c\u1ea7n ph\u1ea3i t\u1ea1o c\xe1c API Routes ri\xeang bi\u1ec7t \u0111\u1ec3 x\u1eed l\xfd c\xe1c t\xe1c v\u1ee5 tr\xean m\xe1y ch\u1ee7. ta ch\u1ec9 c\u1ea7n \u0111\u1ecbnh ngh\u0129a c\xe1c h\xe0nh \u0111\u1ed9ng tr\u1ef1c ti\u1ebfp trong th\xe0nh ph\u1ea7n React v\xe0 g\u1ecdi ch\xfang khi c\u1ea7n."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"D\u1ec5 d\xe0ng qu\u1ea3n l\xfd"})," : Server Actions gi\xfap ta qu\u1ea3n l\xfd m\xe3 ngu\u1ed3n d\u1ec5 d\xe0ng h\u01a1n b\u1eb1ng c\xe1ch gi\u1eef t\u1ea5t c\u1ea3 logic li\xean quan \u0111\u1ebfn m\u1ed9t th\xe0nh ph\u1ea7n React trong c\xf9ng m\u1ed9t n\u01a1i, thay v\xec ph\u1ea3i chia t\xe1ch gi\u1eefa m\xe3 ngu\u1ed3n tr\xean client v\xe0 server."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"t\u1ea1o-server-actions",children:"T\u1ea1o server actions"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u0110\u1ec3 t\u1ea1o 1 server actions, ta t\u1ea1o file v\xe0 th\xeam ",(0,i.jsx)(e.code,{children:'"use server"'})," \u1edf \u0111\u1ea7u file, v\xed d\u1ee5:"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="app/actions.ts"',children:'"use server";\n\nimport { redirect } from "next/navigation";\n\nexport async function createUser() {\n  const res = await fetch("https://...");\n  const json = await res.json();\n\n  if (!res.ok) {\n    return { message: "Please enter a valid email" };\n  }\n\n  redirect("/dashboard");\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Sau \u0111\xf3, ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng h\xe0m server actions n\xe0y \u1edf trong ",(0,i.jsx)(e.a,{href:"../rendering#client-component",children:"client component"})," ho\u1eb7c ",(0,i.jsx)(e.a,{href:"../rendering#server-component",children:"server component"}),":"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",metastring:'title="app/create-user/page.tsx"',children:'"use client";\n\nimport { createUser } from "./actions";\nimport { useState } from "react";\n\nexport default function CreateUserPage() {\n  return (\n    <>\n      <button onClick={createUser}>Create User</button>\n    </>\n  );\n}\n'})})]})}function d(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>o});var i=t(6540);const r={},c=i.createContext(r);function s(n){const e=i.useContext(c);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);